{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  mounted() {\n    this.goToOutputPage();\n  },\n  methods: {\n    async goToOutputPage() {\n      // Analyze the video and push to OutputPage\n      try {\n        const youtubeLink = this.$route.query.link;\n        const groundTruthScore = this.$route.query.gt_score;\n        const startTime = this.$route.query.start_time;\n        const endTime = this.$route.query.end_time;\n        if (!youtubeLink) {\n          throw new Error('YouTube link is missing.');\n        }\n\n        // send a POST request to the backend\n        const response = await fetch('http://localhost:8000/analyze', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            url: youtubeLink,\n            gt_score: groundTruthScore ? parseInt(groundTruthScore) : null,\n            start_time: startTime || \"FULL_VIDEO\",\n            end_time: endTime || \"FULL_VIDEO\"\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const result = await response.json();\n\n        // Push to OutputPage with the result\n        this.$router.push({\n          // Push to OutputPage with the result\n          name: 'OutputPage',\n          query: {\n            gt_score: result.gt_score,\n            report: result.report\n          }\n        });\n      } catch (error) {\n        console.error('Error:', error);\n        alert('Failed to analyze video. Please try again later.');\n\n        // Redirect to InputPage\n        this.$router.push({\n          name: 'InputPage'\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["mounted","goToOutputPage","methods","youtubeLink","$route","query","link","groundTruthScore","gt_score","startTime","start_time","endTime","end_time","Error","response","fetch","method","headers","body","JSON","stringify","url","parseInt","ok","status","result","json","$router","push","name","report","error","console","alert"],"sources":["/Users/kjinh/Desktop/Sports-Police/FrontEnd/src/components/LoadingPage.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1>SGYUNG 당신의 AI 스포츠 심판</h1>\r\n      <p>Loading...</p>\r\n      <!-- 채점하기 버튼 추가 -->\r\n      <!-- <button @click=\"goToOutputPage\">채점하기</button> -->\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    mounted() {\r\n      this.goToOutputPage();\r\n    },\r\n\r\n    methods: {\r\n      async goToOutputPage() { // Analyze the video and push to OutputPage\r\n        try {\r\n\r\n          const youtubeLink = this.$route.query.link;\r\n          const groundTruthScore = this.$route.query.gt_score;\r\n          const startTime = this.$route.query.start_time;\r\n          const endTime = this.$route.query.end_time;\r\n\r\n          if (!youtubeLink) {\r\n            throw new Error('YouTube link is missing.');\r\n          }\r\n\r\n          // send a POST request to the backend\r\n          const response = await fetch('http://localhost:8000/analyze', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ \r\n              url: youtubeLink,\r\n              gt_score: groundTruthScore ? parseInt(groundTruthScore) : null,\r\n              start_time: startTime || \"FULL_VIDEO\",\r\n              end_time: endTime || \"FULL_VIDEO\"\r\n            }),\r\n          });\r\n\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n\r\n          const result = await response.json();\r\n\r\n\r\n          // Push to OutputPage with the result\r\n          this.$router.push({ // Push to OutputPage with the result\r\n            name: 'OutputPage',\r\n            query: {\r\n              gt_score: result.gt_score,\r\n              report: result.report\r\n            }\r\n          });\r\n        } catch (error) {\r\n          console.error('Error:', error);\r\n          alert('Failed to analyze video. Please try again later.');\r\n\r\n          // Redirect to InputPage\r\n          this.$router.push({ name: 'InputPage' });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  h1 {\r\n    text-align: center;\r\n    font-size: 24px;\r\n    margin: 20px 0;\r\n  }\r\n  \r\n  p {\r\n    text-align: center;\r\n    font-size: 20px;\r\n  }\r\n  </style>\r\n  "],"mappings":";AAUE,eAAe;EACbA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMD,cAAcA,CAAA,EAAG;MAAE;MACvB,IAAI;QAEF,MAAME,WAAU,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI;QAC1C,MAAMC,gBAAe,GAAI,IAAI,CAACH,MAAM,CAACC,KAAK,CAACG,QAAQ;QACnD,MAAMC,SAAQ,GAAI,IAAI,CAACL,MAAM,CAACC,KAAK,CAACK,UAAU;QAC9C,MAAMC,OAAM,GAAI,IAAI,CAACP,MAAM,CAACC,KAAK,CAACO,QAAQ;QAE1C,IAAI,CAACT,WAAW,EAAE;UAChB,MAAM,IAAIU,KAAK,CAAC,0BAA0B,CAAC;QAC7C;;QAEA;QACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,+BAA+B,EAAE;UAC5DC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,GAAG,EAAElB,WAAW;YAChBK,QAAQ,EAAED,gBAAe,GAAIe,QAAQ,CAACf,gBAAgB,IAAI,IAAI;YAC9DG,UAAU,EAAED,SAAQ,IAAK,YAAY;YACrCG,QAAQ,EAAED,OAAM,IAAK;UACvB,CAAC;QACH,CAAC,CAAC;QAEF,IAAI,CAACG,QAAQ,CAACS,EAAE,EAAE;UAChB,MAAM,IAAIV,KAAK,CAAC,uBAAuBC,QAAQ,CAACU,MAAM,EAAE,CAAC;QAC3D;QAEA,MAAMC,MAAK,GAAI,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;;QAGpC;QACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAAE;UAClBC,IAAI,EAAE,YAAY;UAClBxB,KAAK,EAAE;YACLG,QAAQ,EAAEiB,MAAM,CAACjB,QAAQ;YACzBsB,MAAM,EAAEL,MAAM,CAACK;UACjB;QACF,CAAC,CAAC;MACJ,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;QAC9BE,KAAK,CAAC,kDAAkD,CAAC;;QAEzD;QACA,IAAI,CAACN,OAAO,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAY,CAAC,CAAC;MAC1C;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}